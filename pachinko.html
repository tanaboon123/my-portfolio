<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡∏õ‡∏≤‡∏à‡∏¥‡∏á‡πÇ‡∏Å‡∏∞‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á TT2</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f5f5f5;
      text-align: center;
      margin: 0;
    }
    h1 {
      margin-top: 20px;
      color: #d84315;
    }
    #game-container {
      position: relative;
      margin: 20px auto;
      width: 360px;
      height: 600px;
      background-color: #fff3e0;
      border: 4px solid #ff9800;
      border-radius: 12px;
      overflow: hidden;
    }
    #spinner {
      width: 100px;
      height: 100px;
      border: 10px solid #9e9e9e;
      border-top: 10px solid silver;
      border-radius: 50%;
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      cursor: grab;
    }
    #ball {
      width: 20px;
      height: 20px;
      background-color: silver;
      border-radius: 50%;
      position: absolute;
      display: none;
    }
    .slot-hole {
      position: absolute;
      top: 20px;
      width: 30px;
      height: 10px;
      background-color: #4caf50;
      border-radius: 6px;
    }
    .slot-hole[data-id="1"] { left: 15px; }
    .slot-hole[data-id="2"] { left: 70px; }
    .slot-hole[data-id="3"] { left: 125px; }
    .slot-hole[data-id="4"] { left: 180px; background-color: gold; }
    .slot-hole[data-id="5"] { left: 235px; }
    .slot-hole[data-id="6"] { left: 290px; }

    #result, #score, #high-score, #remaining, #round {
      margin-top: 10px;
      font-size: 1.1em;
    }
    #reset-btn {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 1em;
      background-color: #e53935;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>üé∞ ‡∏õ‡∏≤‡∏à‡∏¥‡∏á‡πÇ‡∏Å‡∏∞‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á TT2 üéØ</h1>

  <div id="game-container">
    <div class="slot-hole" data-id="1"></div>
    <div class="slot-hole" data-id="2"></div>
    <div class="slot-hole" data-id="3"></div>
    <div class="slot-hole" data-id="4"></div>
    <div class="slot-hole" data-id="5"></div>
    <div class="slot-hole" data-id="6"></div>
    <div id="ball"></div>
    <div id="spinner"></div>
  </div>

  <div id="round">‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà: 1 / 100</div>
  <div id="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</div>
  <div id="high-score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: 0</div>
  <div id="remaining">‡∏•‡∏π‡∏Å‡∏ö‡∏≠‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠: 100</div>
  <div id="result"></div>
  <button id="reset-btn" onclick="resetGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà</button>

  <script>
    const spinner = document.getElementById("spinner");
    const ball = document.getElementById("ball");
    const scoreText = document.getElementById("score");
    const highScoreText = document.getElementById("high-score");
    const remainingText = document.getElementById("remaining");
    const resultText = document.getElementById("result");
    const roundText = document.getElementById("round");

    let isBallActive = false;
    let round = 1;
    let score = 0;
    let highScore = parseInt(localStorage.getItem("highScore") || "0");
    let remainingBalls = 100;

    highScoreText.textContent = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: " + highScore;

    spinner.addEventListener("mousedown", (e) => {
      if (isBallActive || remainingBalls <= 0) return;
      const force = Math.random() * 50 + 20; // ‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏£‡∏á‡∏´‡∏°‡∏∏‡∏ô
      launchBall(force);
    });

    function launchBall(force) {
      isBallActive = true;
      let posX = 160;
      let posY = 500;
      let velY = -force * 0.5;

      ball.style.display = "block";
      ball.style.left = posX + "px";
      ball.style.top = posY + "px";

      const interval = setInterval(() => {
        velY += 0.8;
        posY += velY;
        posX += Math.random() * 2 - 1;

        ball.style.left = posX + "px";
        ball.style.top = posY + "px";

        if (posY <= 40) {
          clearInterval(interval);
          let slotNum = Math.floor((posX - 15) / 55) + 1;
          handleSlot(slotNum);
        }

        if (posY > 600) {
          clearInterval(interval);
          handleSlot(0);
        }
      }, 20);
    }

    function handleSlot(slotNum) {
      ball.style.display = "none";
      isBallActive = false;
      let message = "‡∏û‡∏•‡∏≤‡∏î!";
      let gain = 0;

      if (slotNum === 2 || slotNum === 4) {
        const reel = [randIcon(), randIcon(), randIcon()];
        const match = reel.filter(x => x === reel[0]).length;
        if (match === 3) gain = 200;
        else if (match === 2) gain = 50;

        if (slotNum === 4) gain *= 8;

        message = `üé∞ ‡∏•‡∏á‡∏£‡∏π ${slotNum} ‚û§ ${reel.join(" | ")} +${gain} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
      } else if (slotNum > 0) {
        message = `‡∏•‡∏π‡∏Å‡∏•‡∏á‡∏£‡∏π ${slotNum} ‚û§ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
      }

      score += gain;
      if (score > highScore) {
        highScore = score;
        localStorage.setItem("highScore", highScore);
      }

      resultText.textContent = `‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà ${round}: ${message}`;
      scoreText.textContent = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: " + score;
      highScoreText.textContent = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: " + highScore;
      remainingBalls--;
      round++;
      remainingText.textContent = "‡∏•‡∏π‡∏Å‡∏ö‡∏≠‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠: " + remainingBalls;
      roundText.textContent = `‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà: ${round} / 100`;

      if (remainingBalls <= 0) {
        resultText.textContent += " üéÆ ‡∏à‡∏ö‡πÄ‡∏Å‡∏°!";
      }
    }

    function randIcon() {
      const icons = ["üçí", "üîî", "‚≠ê", "7"];
      return icons[Math.floor(Math.random() * icons.length)];
    }

    function resetGame() {
      score = 0;
      round = 1;
      remainingBalls = 100;
      resultText.textContent = "";
      scoreText.textContent = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0";
      remainingText.textContent = "‡∏•‡∏π‡∏Å‡∏ö‡∏≠‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠: 100";
      roundText.textContent = "‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà: 1 / 100";
    }
  </script>
</body>
</html>

